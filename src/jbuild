(jbuild_version 1)

(rule
 ((targets (c_flags.sexp c_library_flags.sexp))
  (deps (config/find_library.exe))
  (action (run ${<} -ocamlc ${OCAMLC}))))

(library
 ((name symengine)
  (public_name symengine)
  (wrapped false)
  #; (c_library_flags (:standard -L../../build/symengine/symengine -Wl,-all_load -lsymengine -lgmp -lc++))
  (c_library_flags (:include c_library_flags.sexp))
  (libraries (ctypes ctypes.stubs ctypes.foreign))
))