(jbuild_version 1)

(rule
 ((targets (libsymengine_stubs.a))
  (deps (${ROOT}/build/symengine/symengine/libsymengine.a))
  (action (copy ${<} ${@}))
))

(library
 ((name symengine)
  (public_name symengine)
  (wrapped false)
  (c_library_flags (:standard -Wl,-all_load -lgmp -lc++))
  (libraries (ctypes ctypes.stubs ctypes.foreign))
  (self_build_stubs_archive (symengine_stub))
))